/* ============================================================
   ZSEMPIRI GLOBAL — Dawn v15.4.1
   Grandstander (headings) + Jost (body) | Zsempiri warm palette
   ============================================================ */

@import url('https://fonts.googleapis.com/css2?family=Grandstander:ital,wght@0,400;0,600;0,700;0,800;1,400&family=Jost:wght@400;500;600;700&display=swap');


/* ============================================================
   A. DESIGN TOKENS
   ============================================================ */

:root {
  --zsempiri-cream: #f3ecdc;
  --zsempiri-wood: #7b512f;
  --zsempiri-tan: #c9a882;
  --zsempiri-sage: #8F9779;
  --zsempiri-accent-1: #d4bb9b;
  --zsempiri-accent-2: #c18763;
  --zsempiri-accent-3: #b2805a;
}


/* ============================================================
   B. TYPOGRAPHY
   Dawn a --font-heading-family és --font-body-family változókat
   a theme.liquid {% style %} blokkjából tölti be (Shopify font format).
   !important-tal felülírjuk Google Fonts-ra.
   ============================================================ */

body {
  font-family: 'Jost', 'Helvetica Neue', Arial, sans-serif !important;
  color: var(--zsempiri-wood);
}

h1,
h2,
h3,
h4,
h5,
h6,
.h1,
.h2,
.h3,
.h4,
.h5,
.h6 {
  font-family: 'Grandstander', 'Georgia', cursive !important;
  color: var(--zsempiri-wood);
}

.rte p,
.rte li,
.rte blockquote {
  font-family: 'Jost', sans-serif;
  color: var(--zsempiri-wood);
}

a:not(.button):not([class*="btn"]) {
  color: var(--zsempiri-wood);
  text-decoration-color: rgba(123, 81, 47, 0.3);
}

a:not(.button):not([class*="btn"]):hover {
  color: var(--zsempiri-accent-2);
}

.caption,
.caption-large,
.caption-with-letter-spacing {
  font-family: 'Jost', sans-serif;
  color: rgba(123, 81, 47, 0.75);
}


/* ============================================================
   C. GLOBAL BACKGROUND
   Dawn .gradient { background: rgb(var(--color-background)) }
   NEM írjuk felül hardcoded !important-tal — ez blokkolná
   az admin color scheme beállításokat.
   A háttérszín az admin "Color schemes" → Scheme 1 → Background
   mezőjéből jön automatikusan Dawn CSS változókon keresztül.
   ============================================================ */

/* Csak az attachment-et szüntessük meg (parallax shimmer törlése) */
.gradient {
  background-attachment: scroll !important;
}


/* ============================================================
   D. WOOD GRAIN TEXTURE (body::before)
   z-index: 1 — modálok/dropdown-ok ALATT marad
   ============================================================ */

body::before {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 1;
  opacity: 0.04;
  mix-blend-mode: multiply;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  background-repeat: repeat;
  background-size: 200px 200px;
}

@media (prefers-reduced-motion: reduce) {
  body::before {
    opacity: 0.02;
  }
}

.shopify-design-mode body::before {
  opacity: 0.02;
}


/* ============================================================
   E. FLOATING PILL HEADER
   Dawn sticky-header custom element kezeli a show/hide logikát
   (sticky_header_type: "on-scroll-up").
   Dawn által használt osztályok a .section-header elemen:
     .scrolled-past-header  — görgetés megkezdése után
     .shopify-section-header-sticky — sticky pozícióban
     .shopify-section-header-hidden — elrejtve (le görgetésnél)
     .animate                — transition engedélyezve
   ============================================================ */

/* ─── Pill wrapper: minden oldal, görgetés után ─────────────── */
.header-wrapper {
  margin: 1.2rem 1.6rem 0 !important;
  border-radius: 2.5rem !important;
  background-color: rgba(243, 236, 220, 0.90) !important;
  backdrop-filter: blur(14px) !important;
  -webkit-backdrop-filter: blur(14px) !important;
  border: 1px solid rgba(212, 187, 155, 0.45) !important;
  box-shadow: 0 4px 24px rgba(123, 81, 47, 0.10) !important;
  transition: background-color 0.35s ease, box-shadow 0.35s ease,
    border-color 0.35s ease, backdrop-filter 0.35s ease;
}

/* Sötétbarna pill sticky állapotban (mint a marquee háttere) */
.shopify-section-header-sticky .header-wrapper {
  background-color: var(--zsempiri-wood) !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border-color: rgba(212, 187, 155, 0.20) !important;
  box-shadow: 0 6px 32px rgba(30, 15, 5, 0.30) !important;
  margin: 0 !important;
  border-radius: 0 !important;
  width: 100% !important;
  max-width: 100% !important;
}

/* Cream nav szöveg + ikonok sticky állapotban */
.shopify-section-header-sticky .header__heading-link,
.shopify-section-header-sticky .list-menu__item--link,
.shopify-section-header-sticky .header__menu-item span,
.shopify-section-header-sticky .header__menu-item a {
  color: var(--zsempiri-cream) !important;
}

.shopify-section-header-sticky .header__icon svg,
.shopify-section-header-sticky .header__icon .icon {
  color: var(--zsempiri-cream) !important;
}

/* Header mindig a tartalom felett (tile kártyák z-index: 3).
   Dawn base.css: .section-header.shopify-section-group-header-group { z-index: 3 }
   → egyenlő a tile-okkal, DOM sorrendben MainContent nyer. Override: */
.section-header.shopify-section-group-header-group {
  z-index: 100 !important;
}

.header {
  padding-top: 0.8rem !important;
  padding-bottom: 0.8rem !important;
}

/* Nav linkek (alap: wood) */
.header__heading-link,
.list-menu__item--link,
.header__menu-item span,
.header__menu-item a {
  color: var(--zsempiri-wood) !important;
  font-family: 'Jost', sans-serif;
  font-weight: 500;
}

.list-menu__item--link:hover,
.header__menu-item:hover span,
.header__menu-item:hover a {
  color: var(--zsempiri-accent-2) !important;
  opacity: 1 !important;
}

.header__icon svg,
.header__icon .icon {
  color: var(--zsempiri-wood);
}

.cart-count-bubble {
  background-color: var(--zsempiri-sage) !important;
  color: #ffffff !important;
  font-family: 'Jost', sans-serif;
  font-weight: 700;
}

/* ─── FŐOLDAL: Átlátszó fejléc a hero képen ────────────────── */

/* Announcement bar magassága JS-sel kerül beállításra (theme.liquid).
   Header magassága Dawn StickyHeader JS-sel (--header-height).
   Mindkettő kellhet az overlap kiszámításához. */
:root {
  --announcement-bar-height: 0px;
}

/* 1. Hero a lap tetejéig ér: a #MainContent felhúzva
      a header + announcement bar együttes magasságával. */
body.template-index #MainContent {
  margin-top: calc(-1 * (var(--header-height, 80px) + var(--announcement-bar-height, 0px)));
}

/* 2. Átlátszó pill a hero felett */
body.template-index .section-header:not(.scrolled-past-header) .header-wrapper {
  background-color: transparent !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border-color: transparent !important;
  box-shadow: none !important;
}

/* 3. Announcement bar (utility-bar) átlátszó a hero felett.
      A utility-bar a főoldalon csak az oldal tetején látható — görgetés után
      a sticky header mögé csúszik, tehát feltétel nélkül átlátszóvá tehetjük. */
body.template-index .utility-bar,
body.template-index .utility-bar .announcement-bar {
  background: transparent !important;
  background-color: transparent !important;
  background-attachment: unset !important;
  border-color: transparent !important;
}

body.template-index .utility-bar .announcement-bar__message,
body.template-index .utility-bar .announcement-bar__message p,
body.template-index .utility-bar .announcement-bar__message a {
  color: rgba(255, 255, 255, 0.80) !important;
}

/* 5. Fehér nav szöveg + ikonok a hero képen */
body.template-index .section-header:not(.scrolled-past-header) .header__heading-link,
body.template-index .section-header:not(.scrolled-past-header) .list-menu__item--link,
body.template-index .section-header:not(.scrolled-past-header) .header__menu-item span,
body.template-index .section-header:not(.scrolled-past-header) .header__menu-item a {
  color: rgba(255, 255, 255, 0.92) !important;
}

body.template-index .section-header:not(.scrolled-past-header) .header__icon svg,
body.template-index .section-header:not(.scrolled-past-header) .header__icon .icon {
  color: rgba(255, 255, 255, 0.92) !important;
}

@media screen and (max-width: 749px) {
  .header-wrapper {
    margin: 0.8rem 1rem 0 !important;
    border-radius: 2rem !important;
  }

  .shopify-section-header-sticky .header-wrapper {
    margin: 0 !important;
    border-radius: 0 !important;
  }
}


/* ============================================================
   F. BUTTON RENDSZER
   Dawn --buttons-radius: 40px (settings_data.json-ból)
   ============================================================ */

.button,
.button--primary,
button[type="submit"]:not(.shopify-payment-button__button--unbranded):not(.quantity__button) {
  font-family: 'Grandstander', cursive !important;
  font-weight: 700 !important;
  letter-spacing: 0.03em;
  transition: transform 0.2s ease, box-shadow 0.2s ease !important;
}

/* Elsődleges: sage zöld */
.button,
.button--primary {
  background-color: var(--zsempiri-sage) !important;
  color: #ffffff !important;
  border: none !important;
}

/* Másodlagos: meleg körvonal */
.button--secondary {
  background-color: transparent !important;
  color: var(--zsempiri-wood) !important;
  border: 1.5px solid var(--zsempiri-accent-1) !important;
}

.button--secondary:hover:not([disabled]) {
  border-color: var(--zsempiri-accent-2) !important;
  background-color: rgba(212, 187, 155, 0.15) !important;
}

/* Hover lift */
.button:hover:not([disabled]),
.button--primary:hover:not([disabled]) {
  transform: translateY(-2px) !important;
  box-shadow: 0 8px 24px rgba(123, 81, 47, 0.22) !important;
}

.button:active:not([disabled]) {
  transform: translateY(0) !important;
}

/* Dynamic checkout wrapper */
.shopify-payment-button__button {
  border-radius: 0.8rem !important;
  overflow: hidden;
}


/* ============================================================
   G. KÁRTYA / ISLAND RENDSZER (Soft-Tech Redesign)
   ============================================================ */

.card--card,
.card--standard {
  background-color: var(--zsempiri-card-bg) !important;
  border-radius: 2rem !important;
  box-shadow: 0 0.6rem 2rem rgba(123, 81, 47, 0.08) !important;
  transition: transform 0.25s ease, box-shadow 0.25s ease;
  padding: 1.5rem !important;
  box-sizing: border-box !important;
}

/* ─── Grid Spacing & Alignment Fix ──────────────── */
:root {
  --page-width: 1200px !important;
}

ul.grid.product-grid {
  --grid-desktop-horizontal-spacing: 16px !important;
  --grid-desktop-vertical-spacing: 25px !important;
  --grid-mobile-horizontal-spacing: 16px !important;
  --grid-mobile-vertical-spacing: 25px !important;
}

/* Force standard Shopify page containers to exactly match the custom collection 1200px bound */
.page-width,
.page-width-desktop,
.collection.page-width,
slider-component.page-width,
slider-component.page-width-desktop {
  max-width: 1200px !important;
  padding-left: 2rem !important;
  padding-right: 2rem !important;
  margin-left: auto !important;
  margin-right: auto !important;
}

@media screen and (min-width: 750px) {

  .page-width,
  .page-width-desktop,
  .collection.page-width,
  slider-component.page-width,
  slider-component.page-width-desktop,
  .slider-component-desktop.page-width,
  .slider-component-desktop.page-width-desktop {
    padding-left: 5rem !important;
    padding-right: 7rem !important;
    /* Asymmetric right padding for sticky banner */
  }
}

slider-component {
  --desktop-margin-left-first-item: 0px !important;
}

/* Math correction for exact 4-column alignment */
@media screen and (min-width: 750px) {
  .slider.slider--desktop .slider__slide:first-child {
    margin-left: 0 !important;
  }

  ul.grid.product-grid>.grid__item {
    width: calc(25% - 1.2rem) !important;
    /* (100% - 3*1.6rem) / 4 */
    max-width: calc(25% - 1.2rem) !important;
  }
}

/* Ensure inner card is transparent and maintains aspect ratio */
.card--card .card__inner,
.card--standard .card__inner {
  background-color: transparent !important;
  border-radius: 1.5rem !important;
  overflow: hidden !important;
  border: none !important;
  width: 100% !important;
  max-width: 100% !important;
  margin: 0 !important;
  transform: none !important;
  box-sizing: border-box !important;
}

.card__media {
  border-radius: 1.5rem !important;
  overflow: hidden !important;
  position: relative;
  margin: 0 !important;
  box-sizing: border-box !important;
  width: 100% !important;
  height: auto !important;
}

.card__media .media {
  border-radius: 1.5rem !important;
  height: 0 !important;
  padding-bottom: 100% !important;
  /* Forces 1:1 Square */
  position: relative;
  overflow: hidden;
}

.card__media .media>img {
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  object-fit: cover !important;
  object-position: center !important;
  width: 100% !important;
  height: 100% !important;
}

.card-wrapper:hover .card--card,
.card-wrapper:hover .card--standard {
  transform: translateY(-3px);
  box-shadow: 0 1.2rem 3rem rgba(123, 81, 47, 0.16) !important;
}

.card__content {
  text-align: center !important;
  padding: 1.5rem 0 2rem 0 !important;
  /* Adjusted padding since outer card has side padding */
}

.card__heading,
.card__heading a {
  font-family: 'Grandstander', cursive !important;
  color: var(--zsempiri-wood) !important;
  justify-content: center;
}

.card .price-item {
  color: var(--zsempiri-wood);
  font-family: 'Jost', sans-serif;
  font-weight: 600;
  justify-content: center;
}

.card .price-item--sale {
  color: var(--zsempiri-accent-3);
}

.price {
  justify-content: center !important;
}

/* ─── Hover Image Swap (Slide-Up) ───────────────────────── */

.zsempiri-media-swap {
  position: relative;
  overflow: hidden;
  width: 100%;
  height: 100%;
}

.zsempiri-media-swap .zsempiri-img-primary,
.zsempiri-media-swap .zsempiri-img-secondary {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover !important;
  transition: transform 0.6s cubic-bezier(0.25, 1, 0.5, 1), opacity 0.6s cubic-bezier(0.25, 1, 0.5, 1);
}

/* Base state */
.zsempiri-media-swap .zsempiri-img-primary {
  transform: translateY(0);
  opacity: 1;
}

.zsempiri-media-swap .zsempiri-img-secondary {
  transform: translateY(100%);
  opacity: 0;
}

/* Hover state */
.card-wrapper:hover .zsempiri-media-swap .zsempiri-img-primary {
  transform: translateY(-100%);
  opacity: 0;
}

.card-wrapper:hover .zsempiri-media-swap .zsempiri-img-secondary {
  transform: translateY(0);
  opacity: 1;
}

/* ─── Hover Action Bar (Attached to Bottom Edge) ─────────── */

.card__media {
  position: relative;
}

.zsempiri-card-actions {
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%) translateY(100%);
  opacity: 0;
  display: flex !important;
  flex-direction: row !important;
  /* Force side-by-side, overrides mobile column */
  align-items: center;
  justify-content: center;
  width: 75%;
  /* Slightly wider to match reference image */
  background-color: transparent;
  transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1);
  z-index: 10;
  overflow: hidden;
  border-top-left-radius: 0.8rem;
  border-top-right-radius: 0.8rem;
  box-shadow: 0 -4px 15px rgba(123, 81, 47, 0.1);
}

.card-wrapper:hover .zsempiri-card-actions {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

button.zsempiri-action-btn,
.zsempiri-action-btn {
  flex: 1 !important;
  background: none !important;
  border: none !important;
  border-radius: 0 !important;
  box-shadow: none !important;
  cursor: pointer !important;
  padding: 0.8rem 0.6rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  transition: background-color 0.2s ease, color 0.2s ease !important;
  min-height: auto !important;
  min-width: auto !important;
  margin: 0 !important;
  transform: none !important;
}

/* Left side: Quick View (Sage Green) */
button.zsempiri-quick-view-trigger,
.zsempiri-quick-view-trigger {
  background-color: var(--zsempiri-sage) !important;
  color: #ffffff !important;
}

button.zsempiri-quick-view-trigger:hover,
.zsempiri-quick-view-trigger:hover {
  background-color: #7A8265 !important;
}

/* Right side: Quick Add (White -> Beige) */
button.zsempiri-quick-add-submit,
.zsempiri-quick-add-submit {
  background-color: var(--zsempiri-card-bg) !important;
  color: var(--zsempiri-wood) !important;
}

.zsempiri-quick-add-submit:hover {
  background-color: #EFECE6 !important;
}

.zsempiri-action-btn svg {
  width: 22px;
  height: 22px;
  transition: transform 0.2s ease;
}

.zsempiri-action-btn:hover svg {
  transform: scale(1.1);
}

.zsempiri-action-btn.is-disabled {
  background-color: #ffffff !important;
  color: rgba(123, 81, 47, 0.3) !important;
  cursor: not-allowed;
}

/* Remove Divider */
.zsempiri-action-divider {
  display: none !important;
}

@media screen and (max-width: 749px) {
  .zsempiri-card-actions {
    opacity: 1;
    /* Always show on mobile */
    transform: translateX(-50%) translateY(0);
  }
}

/* Hide original Quick Add */
.card__content .quick-add {
  display: none !important;
}


/* ============================================================
   H. FORM INPUTOK
   ============================================================ */

input:not([type="submit"]):not([type="checkbox"]):not([type="radio"]):not([type="range"]):not([type="color"]),
select,
textarea,
.field__input,
.select__select {
  border-color: var(--zsempiri-accent-1) !important;
  background-color: #FFFDF8 !important;
  color: var(--zsempiri-wood) !important;
  font-family: 'Jost', sans-serif !important;
}

input:not([type="submit"]):not([type="checkbox"]):not([type="radio"]):not([type="range"]):focus,
select:focus,
textarea:focus,
.field__input:focus {
  border-color: var(--zsempiri-accent-2) !important;
  outline: 2px solid rgba(193, 135, 99, 0.25) !important;
  outline-offset: 0;
}

::placeholder {
  color: rgba(123, 81, 47, 0.40) !important;
  font-family: 'Jost', sans-serif;
}

.field__label,
.form__label {
  font-family: 'Jost', sans-serif;
  color: var(--zsempiri-wood);
  font-weight: 500;
}


/* ============================================================
   I. VARIANT PILL-EK
   ============================================================ */

.swatch-input__input+label,
.product-form__input--pill label {
  border-color: var(--zsempiri-accent-1);
  color: var(--zsempiri-wood);
  font-family: 'Jost', sans-serif;
  font-weight: 500;
  transition: border-color 0.15s ease, background-color 0.15s ease, color 0.15s ease;
}

.swatch-input__input:checked+label,
.product-form__input--pill input:checked+label {
  border-color: var(--zsempiri-sage) !important;
  background-color: var(--zsempiri-sage) !important;
  color: #ffffff !important;
}


/* ============================================================
   J. ÁR + BADGE
   ============================================================ */

.price-item--sale,
.price__sale .price-item--sale {
  color: var(--zsempiri-accent-3);
}

.price-item--regular,
.price__regular .price-item--regular {
  color: var(--zsempiri-wood);
  font-family: 'Jost', sans-serif;
  font-weight: 700;
}

.badge {
  font-family: 'Jost', sans-serif;
  font-weight: 700;
}


/* ============================================================
   K. ANNOUNCEMENT BAR
   ============================================================ */

.announcement-bar {
  background-color: var(--zsempiri-wood) !important;
}

.announcement-bar__message,
.announcement-bar__message p,
.announcement-bar__message a {
  color: var(--zsempiri-cream) !important;
  font-family: 'Jost', sans-serif;
  font-weight: 500;
}


/* ============================================================
   L. FOOTER
   ============================================================ */

.footer {
  background-color: var(--zsempiri-cream) !important;
  border-top: 1px solid var(--zsempiri-accent-1);
}

.footer__heading {
  font-family: 'Grandstander', cursive !important;
  color: var(--zsempiri-wood);
}

.footer p,
.footer li,
.footer a:not(.button) {
  font-family: 'Jost', sans-serif;
  color: rgba(123, 81, 47, 0.80);
}

.footer a:not(.button):hover {
  color: var(--zsempiri-accent-2);
}


/* ============================================================
   M. CART FIGYELMEZTETÉS & DRAWER
   ============================================================ */

.cart-notification,
.drawer {
  background-color: var(--zsempiri-card-bg) !important;
}

.cart-notification__heading,
.cart-drawer__heading,
.drawer__heading {
  font-family: 'Grandstander', cursive;
  color: var(--zsempiri-wood);
}

.cart-notification-product__name,
.cart-item__name {
  font-family: 'Jost', sans-serif;
  color: var(--zsempiri-wood);
}

.totals__total-value {
  font-family: 'Grandstander', cursive;
  color: var(--zsempiri-wood);
  font-weight: 700;
}


/* ============================================================
   N. PREDIKTÍV KERESÉS
   ============================================================ */

.predictive-search,
.global-settings-popup {
  background-color: var(--zsempiri-card-bg) !important;
  border-color: var(--zsempiri-accent-1) !important;
  border-radius: 1rem !important;
  box-shadow: 0 1.2rem 3rem rgba(123, 81, 47, 0.12) !important;
}

.predictive-search__heading {
  font-family: 'Grandstander', cursive;
  color: var(--zsempiri-wood);
}

.predictive-search__item-heading {
  font-family: 'Jost', sans-serif;
  color: var(--zsempiri-wood);
}

.predictive-search__item:hover,
.predictive-search__item:focus {
  background-color: rgba(212, 187, 155, 0.20) !important;
}


/* ============================================================
   O. SECTION HEADINGEK OLDALSÁVON
   ============================================================ */

.title,
.section-header .title,
.featured-collection .title,
.collection-list .title,
.rich-text__heading,
.image-with-text__heading,
.multicolumn-card__title {
  font-family: 'Grandstander', cursive !important;
  color: var(--zsempiri-wood) !important;
}

.image-with-text__text,
.rich-text__text,
.multicolumn-card__info {
  font-family: 'Jost', sans-serif !important;
  color: rgba(123, 81, 47, 0.85) !important;
}


/* ============================================================
   P. FÓKUSZ, SCROLLBAR, SPINNER
   ============================================================ */

:focus-visible {
  outline: 2px solid var(--zsempiri-accent-2) !important;
  outline-offset: 3px !important;
  border-radius: 0.4rem;
}

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--zsempiri-cream);
}

::-webkit-scrollbar-thumb {
  background-color: var(--zsempiri-accent-1);
  border-radius: 4px;
  border: 2px solid var(--zsempiri-cream);
}

::-webkit-scrollbar-thumb:hover {
  background-color: var(--zsempiri-accent-2);
}

.loading__spinner .path,
.loading-overlay__spinner .path {
  stroke: var(--zsempiri-sage) !important;
}