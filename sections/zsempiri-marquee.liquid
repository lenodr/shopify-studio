{{ 'zsempiri-homepage.css' | asset_url | stylesheet_tag }}

{%- liquid
  assign speed = section.settings.speed | default: 28
  assign bg_color = section.settings.bg_color | default: '#7b512f'
  assign text_color = section.settings.text_color | default: '#f3ecdc'
  assign padding_v = section.settings.padding_vertical | default: 10
-%}

<div
  class="zsempiri-marquee"
  role="region"
  aria-label="Brand highlights"
  style="background-color: {{ bg_color }}; color: {{ text_color }}; padding-top: {{ padding_v }}px; padding-bottom: {{ padding_v }}px;"
>
  <div class="zsempiri-marquee__track" style="animation-duration: {{ speed }}s;">
    {%- comment -%}Els≈ë m√°solat{%- endcomment -%}
    <div class="zsempiri-marquee__group">
      {%- for block in section.blocks -%}
        <span class="zsempiri-marquee__item" style="color: {{ text_color }};" {{ block.shopify_attributes }}>
          {%- if block.settings.icon != blank -%}
            <span class="zsempiri-marquee__item-icon" aria-hidden="true">{{ block.settings.icon }}</span>
          {%- endif -%}
          {{ block.settings.text }}
        </span>
      {%- endfor -%}
    </div>
    {%- comment -%}M√°sodik m√°solat ‚Äî seamless loop{%- endcomment -%}
    <div class="zsempiri-marquee__group" aria-hidden="true">
      {%- for block in section.blocks -%}
        <span class="zsempiri-marquee__item" style="color: {{ text_color }};">
          {%- if block.settings.icon != blank -%}
            <span class="zsempiri-marquee__item-icon" aria-hidden="true">{{ block.settings.icon }}</span>
          {%- endif -%}
          {{ block.settings.text }}
        </span>
      {%- endfor -%}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Zsempiri ‚Äî Marquee",
  "tag": "section",
  "class": "section",
  "max_blocks": 12,
  "settings": [
    {
      "type": "color",
      "id": "bg_color",
      "label": "H√°tt√©rsz√≠n",
      "default": "#7b512f"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Sz√∂vegsz√≠n",
      "default": "#f3ecdc"
    },
    {
      "type": "range",
      "id": "speed",
      "min": 10,
      "max": 60,
      "step": 2,
      "unit": "s",
      "label": "G√∂rget√©si sebess√©g",
      "default": 28
    },
    {
      "type": "range",
      "id": "padding_vertical",
      "min": 6,
      "max": 24,
      "step": 2,
      "unit": "px",
      "label": "F√ºgg≈ëleges bels≈ë t√©r",
      "default": 10
    }
  ],
  "blocks": [
    {
      "type": "item",
      "name": "Marquee elem",
      "settings": [
        {
          "type": "text",
          "id": "text",
          "label": "Sz√∂veg",
          "default": "K√©zzel k√©sz√≠tett"
        },
        {
          "type": "text",
          "id": "icon",
          "label": "Emoji / ikon",
          "info": "Emoji vagy unicode karakter, pl. üåø vagy ‚ú¶",
          "default": "üåø"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Zsempiri ‚Äî Marquee",
      "blocks": [
        { "type": "item", "settings": { "text": "Egyedi Grav√≠roz√°s", "icon": "‚úçÔ∏è" } },
        { "type": "item", "settings": { "text": "Gyors Sz√°ll√≠t√°s", "icon": "üöö" } },
        { "type": "item", "settings": { "text": "Magyar K√©zimunka", "icon": "üá≠üá∫" } },
        { "type": "item", "settings": { "text": "Aj√°nd√©kra K√©sz Csomag", "icon": "üéÅ" } },
        { "type": "item", "settings": { "text": "K√©zzel K√©sz√≠tett", "icon": "üåø" } },
        { "type": "item", "settings": { "text": "T√∂m√∂r Ny√≠rfa", "icon": "ü™µ" } }
      ]
    }
  ]
}
{% endschema %}
